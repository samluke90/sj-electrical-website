---
phase: 02-design-system
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - css/styles.css
  - index.html
  - services.html
  - quote.html
  - about.html
  - contact.html
autonomous: true

must_haves:
  truths:
    - "Site loads with black background by default"
    - "All primary text is white and readable against black"
    - "CTAs and highlights use orange accent color"
    - "Typography appears modern and geometric"
  artifacts:
    - path: "css/styles.css"
      provides: "Dark-first CSS variables and Outfit typography"
      contains: "--color-bg-primary: #0a0a0a"
    - path: "index.html"
      provides: "Updated Google Fonts link for Outfit"
      contains: "family=Outfit"
  key_links:
    - from: "css/styles.css"
      to: "HTML pages"
      via: "CSS custom properties"
      pattern: "var\\(--color"
---

<objective>
Implement the black/white/orange design system with dark-mode-first approach and modern geometric typography.

Purpose: Transform the site from blue/yellow to a minimalist black/white/orange aesthetic that looks professional and modern.

Output: Updated CSS with new color tokens and typography, all HTML pages updated with Outfit font.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-design-system/02-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace CSS variables with dark-first design tokens</name>
  <files>css/styles.css</files>
  <action>
Replace the `:root` CSS variables block (lines ~6-22) with the new dark-first design tokens:

```css
:root {
    /* Backgrounds - Dark mode default */
    --color-bg-primary: #0a0a0a;
    --color-bg-secondary: #141414;
    --color-bg-elevated: #1f1f1f;

    /* Text */
    --color-text-primary: #ffffff;
    --color-text-secondary: rgba(255, 255, 255, 0.7);
    --color-text-muted: rgba(255, 255, 255, 0.5);

    /* Accent (Orange) */
    --color-accent: #FF8C00;
    --color-accent-hover: #FFa333;
    --color-accent-text: #0a0a0a;

    /* Semantic */
    --color-success: #00C853;
    --color-error: #FF5252;

    /* Borders & Dividers */
    --color-border: rgba(255, 255, 255, 0.1);
    --color-border-hover: rgba(255, 255, 255, 0.2);

    /* Shadows */
    --shadow-sm: 0 0 10px rgba(255, 140, 0, 0.1);
    --shadow-md: 0 4px 20px rgba(0, 0, 0, 0.5);
    --shadow-lg: 0 10px 40px rgba(0, 0, 0, 0.6);

    /* Legacy mappings for existing CSS (prevents breakage) */
    --primary: var(--color-accent);
    --primary-dark: var(--color-accent-hover);
    --secondary: #FFD700;
    --secondary-dark: #e6c200;
    --dark: var(--color-text-primary);
    --dark-light: var(--color-text-secondary);
    --light: var(--color-bg-secondary);
    --white: var(--color-bg-primary);
    --accent: var(--color-success);
    --danger: var(--color-error);
    --shadow: var(--shadow-md);
    --shadow-lg: var(--shadow-lg);

    /* Radius and transition (unchanged) */
    --radius: 8px;
    --radius-lg: 16px;
    --transition: all 0.3s ease;

    /* Typography */
    --font-family: 'Outfit', -apple-system, BlinkMacSystemFont, sans-serif;
    --font-weight-regular: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;

    /* Spacing */
    --space-xs: 4px;
    --space-sm: 8px;
    --space-md: 16px;
    --space-lg: 24px;
    --space-xl: 32px;
    --space-2xl: 48px;
    --space-3xl: 64px;
}
```

Then update the `[data-theme="dark"]` section (lines ~1583-1640) to become `[data-theme="light"]`:

```css
/* Light mode (toggled) */
[data-theme="light"] {
    --color-bg-primary: #ffffff;
    --color-bg-secondary: #f8f8f8;
    --color-bg-elevated: #ffffff;

    --color-text-primary: #0a0a0a;
    --color-text-secondary: rgba(0, 0, 0, 0.7);
    --color-text-muted: rgba(0, 0, 0, 0.5);

    --color-accent: #E67E00;
    --color-accent-hover: #CC7000;

    --color-border: rgba(0, 0, 0, 0.1);
    --color-border-hover: rgba(0, 0, 0, 0.2);

    --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
    --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.15);

    /* Legacy mappings */
    --primary: var(--color-accent);
    --primary-dark: var(--color-accent-hover);
    --dark: var(--color-text-primary);
    --dark-light: var(--color-text-secondary);
    --light: var(--color-bg-secondary);
    --white: var(--color-bg-primary);
}
```

Also update the light mode specific component overrides to use `[data-theme="light"]` selector instead of `[data-theme="dark"]`.

Update body styles to use the new variables:
```css
body {
    font-family: var(--font-family);
    font-size: 16px;
    line-height: 1.6;
    color: var(--color-text-primary);
    background-color: var(--color-bg-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}
```

Update heading styles:
```css
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-family);
    font-weight: var(--font-weight-bold);
    line-height: 1.2;
    margin-bottom: 1rem;
    color: var(--color-text-primary);
}
```

Update button primary styles to use orange with black text:
```css
.btn-primary {
    background: var(--color-accent);
    color: var(--color-accent-text);
}

.btn-primary:hover {
    background: var(--color-accent-hover);
    color: var(--color-accent-text);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}
```

Update the header background for dark default:
```css
.header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: var(--color-bg-primary);
    box-shadow: var(--shadow-md);
    z-index: 1000;
    border-bottom: 1px solid var(--color-border);
}
```

Update hero section to use dark background with orange accent:
```css
.hero {
    padding: 140px 0 80px;
    background: var(--color-bg-primary);
    color: var(--color-text-primary);
    position: relative;
    overflow: hidden;
}
```

Update hero h1 span to use orange:
```css
.hero h1 span {
    color: var(--color-accent);
}
```

Update service icon backgrounds to use orange:
```css
.service-icon {
    width: 70px;
    height: 70px;
    background: var(--color-accent);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-accent-text);
    font-size: 1.8rem;
}
```

IMPORTANT: Keep the `--secondary: #FFD700` for the lightbulb glow animation (research recommends keeping yellow for warm light effect).
  </action>
  <verify>
Open css/styles.css and confirm:
1. :root contains --color-bg-primary: #0a0a0a
2. [data-theme="light"] exists (not [data-theme="dark"])
3. body uses var(--font-family) and var(--color-bg-primary)
  </verify>
  <done>CSS uses dark-first design tokens with orange accent color</done>
</task>

<task type="auto">
  <name>Task 2: Update Google Fonts to Outfit in all HTML files</name>
  <files>index.html, services.html, quote.html, about.html, contact.html</files>
  <action>
In each HTML file, replace the Google Fonts link:

OLD:
```html
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Open+Sans:wght@400;500;600&display=swap" rel="stylesheet">
```

NEW:
```html
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700;800&display=swap" rel="stylesheet">
```

This change applies to all 5 HTML files:
- index.html
- services.html
- quote.html
- about.html
- contact.html
  </action>
  <verify>
Run: grep -l "family=Outfit" *.html | wc -l
Expected: 5 (all HTML files updated)
  </verify>
  <done>All HTML pages load Outfit font family</done>
</task>

<task type="auto">
  <name>Task 3: Update light switch toggle logic for dark-first</name>
  <files>js/effects.js</files>
  <action>
Update the initLightSwitch() function to invert the toggle logic. Dark mode is now the default (no attribute), light mode is the toggle state.

Replace the theme check and click handler section (around lines 172-210):

```javascript
// Check for saved theme preference - dark is now default
const savedTheme = localStorage.getItem('theme');
if (savedTheme === 'light') {
    document.documentElement.setAttribute('data-theme', 'light');
    // Switch is "on" (up) for light mode
} else {
    // Dark mode is default - switch is "off" (down position)
    switchToggle.classList.add('off');
}

// Click handler
lightSwitch.addEventListener('click', function() {
    const isLightMode = document.documentElement.getAttribute('data-theme') === 'light';

    // Play click sound
    playClickSound();

    // Add flicker effect
    document.body.classList.add('theme-transitioning');

    // Toggle switch position
    switchToggle.classList.toggle('off');

    // Apply theme after a brief delay for the flicker effect
    setTimeout(() => {
        if (isLightMode) {
            // Switch to dark (default)
            document.documentElement.removeAttribute('data-theme');
            localStorage.setItem('theme', 'dark');
        } else {
            // Switch to light
            document.documentElement.setAttribute('data-theme', 'light');
            localStorage.setItem('theme', 'light');
        }
    }, 150);

    // Remove flicker class
    setTimeout(() => {
        document.body.classList.remove('theme-transitioning');
    }, 500);

    // Create spark burst at switch location
    const rect = lightSwitch.getBoundingClientRect();
    createSparkBurst(rect.left + rect.width / 2, rect.top + rect.height / 2);
});
```

This inverts the logic so:
- No data-theme attribute = dark mode (default)
- data-theme="light" = light mode (toggled)
- Switch "off" position = dark mode
- Switch "on" position = light mode
  </action>
  <verify>
Open js/effects.js and confirm:
1. savedTheme === 'light' check exists
2. removeAttribute('data-theme') is used for dark mode
3. setAttribute('data-theme', 'light') is used for light mode
  </verify>
  <done>Light switch toggle works with dark-first approach</done>
</task>

</tasks>

<verification>
1. Open site in browser - should show dark background (#0a0a0a) by default
2. Text should be white and readable
3. Buttons and accents should be orange (#FF8C00)
4. Typography should be Outfit (geometric sans-serif)
5. Click light switch - should toggle to light theme
6. Refresh page - should remember theme preference
</verification>

<success_criteria>
- Site loads with near-black (#0a0a0a) background by default
- All text is white (#ffffff) on dark background
- CTA buttons are orange with black text (WCAG AA compliant)
- Outfit font renders for all headings and body text
- Light switch toggles between dark and light themes
- Theme preference persists across page refreshes
</success_criteria>

<output>
After completion, create `.planning/phases/02-design-system/02-01-SUMMARY.md`
</output>
